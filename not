functions.firestore.document("recipes/{recipeId}")
this saying we add a dcoument with a new Id to recipes collection,
    we want to react to some event

snapshot is being represtented to document being created
admin.firestore.FieldValue.increment(1)
this is a special function thats provided by the Firebase Admin Library to increment a particular field


exports.onCreateRecipe = functions.firestore.document("recipes/{recipeId}").onCreate(async (snapshot) => {
    const countDocRef = firestore.collection("recipeCounts").doc("all");//this going to refer all recipes
    const countDoc = await countDocRef.get();
    if (countDoc.exists) {
        countDocRef.update({ count: admin.firestore.FieldValue.increment(1) });
    }
    else {
        countDocRef.set({ count: 1 });
    }
    const recipe = snapshot.data();
    if (recipe.isPublished) {
        const countPublishedRef = firestore.collection("recipeCounts").doc("published");//published olanlar
        const countPublished = await countPublishedRef.get();
        if (countPublished.exists) {
            countPublishedRef.update({ count: admin.firestore.FieldValue.increment(1) });
        }
        else {
            countPublishedRef.set({ count: 1 });
        }
    }
}
);
exports.sendWelcomeEmail = functions.auth.user().onCreate(user => {
    const email = user.email; // The email of the user.
    const displayName = user.displayName; // The display name of the user.
    return "hey";
})